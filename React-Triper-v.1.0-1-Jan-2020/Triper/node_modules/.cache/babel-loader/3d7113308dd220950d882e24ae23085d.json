{"ast":null,"code":"/**\r\n=========================================================\r\n* Soft UI Dashboard React - v2.0.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/soft-ui-dashboard-material-ui\r\n* Copyright 2021 Creative Tim (https://www.creative-tim.com)\r\n\r\nCoded by www.creative-tim.com\r\n\r\n =========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n*/\nimport { useEffect } from \"react\";\nimport AuthApi from \"../../api/auth\";\nimport { useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../../auth-context/auth.context\";\n\nfunction SignOut() {\n  const history = useHistory(); //   const { setUser } = useAuth();\n  //   let { user } = useAuth();\n\n  const handleLogout = async () => {\n    try {\n      //   console.log(user);\n      const obj = {\n        token: localStorage.getItem(\"x_access_token\")\n      };\n      await AuthApi.Logout(obj); //   await setUser(null);\n\n      localStorage.removeItem(\"user\");\n      return history.push(\"/\");\n    } catch (error) {\n      localStorage.clear();\n      return history.push(\"/\");\n    }\n  };\n\n  useEffect(() => {\n    handleLogout();\n  }, []);\n  return null;\n}\n\nexport default SignOut;","map":{"version":3,"sources":["C:/Hiep/React-Triper-v.1.0-1-Jan-2020/Triper/src/markup/Layout/sign_out.js"],"names":["useEffect","AuthApi","useHistory","useAuth","SignOut","history","handleLogout","obj","token","localStorage","getItem","Logout","removeItem","push","error","clear"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,OAAT,QAAwB,iCAAxB;;AAEA,SAASC,OAAT,GAAmB;AACjB,QAAMC,OAAO,GAAGH,UAAU,EAA1B,CADiB,CAEnB;AACA;;AAEE,QAAMI,YAAY,GAAG,YAAY;AAC/B,QAAI;AACJ;AACA,YAAMC,GAAG,GAAG;AACRC,QAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,gBAArB;AADC,OAAZ;AAGE,YAAMT,OAAO,CAACU,MAAR,CAAeJ,GAAf,CAAN,CALE,CAMJ;;AACEE,MAAAA,YAAY,CAACG,UAAb,CAAwB,MAAxB;AACA,aAAOP,OAAO,CAACQ,IAAR,CAAa,GAAb,CAAP;AACD,KATD,CASE,OAAOC,KAAP,EAAc;AACdL,MAAAA,YAAY,CAACM,KAAb;AACA,aAAOV,OAAO,CAACQ,IAAR,CAAa,GAAb,CAAP;AACD;AACF,GAdD;;AAgBAb,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,YAAY;AACb,GAFQ,EAEN,EAFM,CAAT;AAIA,SAAO,IAAP;AACD;;AAED,eAAeF,OAAf","sourcesContent":["/**\r\n=========================================================\r\n* Soft UI Dashboard React - v2.0.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/soft-ui-dashboard-material-ui\r\n* Copyright 2021 Creative Tim (https://www.creative-tim.com)\r\n\r\nCoded by www.creative-tim.com\r\n\r\n =========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n*/\r\nimport { useEffect } from \"react\";\r\nimport AuthApi from \"../../api/auth\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../../auth-context/auth.context\";\r\n\r\nfunction SignOut() {\r\n  const history = useHistory();\r\n//   const { setUser } = useAuth();\r\n//   let { user } = useAuth();\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n    //   console.log(user);\r\n    const obj = {\r\n        token: localStorage.getItem(\"x_access_token\")\r\n    }\r\n      await AuthApi.Logout(obj);\r\n    //   await setUser(null);\r\n      localStorage.removeItem(\"user\");\r\n      return history.push(\"/\");\r\n    } catch (error) {\r\n      localStorage.clear();\r\n      return history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleLogout();\r\n  }, []);\r\n\r\n  return null;\r\n}\r\n\r\nexport default SignOut;\r\n"]},"metadata":{},"sourceType":"module"}