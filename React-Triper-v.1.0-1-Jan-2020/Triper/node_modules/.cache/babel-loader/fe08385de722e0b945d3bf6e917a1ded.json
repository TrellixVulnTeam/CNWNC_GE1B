{"ast":null,"code":"/**\r\n=========================================================\r\n* Soft UI Dashboard React - v2.0.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/soft-ui-dashboard-material-ui\r\n* Copyright 2021 Creative Tim (https://www.creative-tim.com)\r\n\r\nCoded by www.creative-tim.com\r\n\r\n =========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n*/\nimport { useEffect } from \"react\";\nimport AuthApi from \"../../api/auth\";\nimport { useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../../auth-context/auth.context\";\n\nfunction SignOut() {\n  const history = useHistory();\n  const {\n    setUser\n  } = useAuth();\n  let {\n    user\n  } = useAuth();\n\n  const handleLogout = async () => {\n    try {\n      console.log(user);\n      await AuthApi.Logout(user);\n      await setUser(null);\n      localStorage.removeItem(\"user\");\n      return history.push(\"/\");\n    } catch (error) {\n      localStorage.clear();\n      return history.push(\"/\");\n    }\n  };\n\n  useEffect(() => {\n    handleLogout();\n  }, []);\n  return null;\n}\n\nexport default SignOut;","map":{"version":3,"sources":["C:/Hiep/React-Triper-v.1.0-1-Jan-2020/Triper/src/markup/Layout/sign_out.js"],"names":["useEffect","AuthApi","useHistory","useAuth","SignOut","history","setUser","user","handleLogout","console","log","Logout","localStorage","removeItem","push","error","clear"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,OAAT,QAAwB,iCAAxB;;AAEA,SAASC,OAAT,GAAmB;AACjB,QAAMC,OAAO,GAAGH,UAAU,EAA1B;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAcH,OAAO,EAA3B;AACA,MAAI;AAAEI,IAAAA;AAAF,MAAWJ,OAAO,EAAtB;;AAEA,QAAMK,YAAY,GAAG,YAAY;AAC/B,QAAI;AACFC,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,YAAMN,OAAO,CAACU,MAAR,CAAeJ,IAAf,CAAN;AACA,YAAMD,OAAO,CAAC,IAAD,CAAb;AACAM,MAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;AACA,aAAOR,OAAO,CAACS,IAAR,CAAa,GAAb,CAAP;AACD,KAND,CAME,OAAOC,KAAP,EAAc;AACdH,MAAAA,YAAY,CAACI,KAAb;AACA,aAAOX,OAAO,CAACS,IAAR,CAAa,GAAb,CAAP;AACD;AACF,GAXD;;AAaAd,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,YAAY;AACb,GAFQ,EAEN,EAFM,CAAT;AAIA,SAAO,IAAP;AACD;;AAED,eAAeJ,OAAf","sourcesContent":["/**\r\n=========================================================\r\n* Soft UI Dashboard React - v2.0.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/soft-ui-dashboard-material-ui\r\n* Copyright 2021 Creative Tim (https://www.creative-tim.com)\r\n\r\nCoded by www.creative-tim.com\r\n\r\n =========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n*/\r\nimport { useEffect } from \"react\";\r\nimport AuthApi from \"../../api/auth\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../../auth-context/auth.context\";\r\n\r\nfunction SignOut() {\r\n  const history = useHistory();\r\n  const { setUser } = useAuth();\r\n  let { user } = useAuth();\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      console.log(user);\r\n      await AuthApi.Logout(user);\r\n      await setUser(null);\r\n      localStorage.removeItem(\"user\");\r\n      return history.push(\"/\");\r\n    } catch (error) {\r\n      localStorage.clear();\r\n      return history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleLogout();\r\n  }, []);\r\n\r\n  return null;\r\n}\r\n\r\nexport default SignOut;\r\n"]},"metadata":{},"sourceType":"module"}